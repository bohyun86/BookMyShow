<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.itwillbs.mapper.PartnerQnaMapper">

   <resultMap id="PartnerResultMap" type="com.itwillbs.domain.PartnerQnaDTO"> 
            <result property="inquiryId" column="inquiry_id"/>
            <result property="inquiryType" column="inquiry_type"/>
            <result property="title" column="title"/>
            <result property="content" column="content"/>
            <result property="createdAt" column="created_at"/>
            <result property="updatedAt" column="updated_at"/>
            <result property="userId" column="user_id"/>
            <result property="answered" column="answered"/>
   
    </resultMap>
    
    
     <select id="getPartneQna"  resultMap="PartnerResultMap" >
 			SELECT I.*, P.*
        FROM  Inquiry I
        JOIN Partner P ON I.user_id = P.user_id
        JOIN User U ON U.user_id = P.user_id
        WHERE U.user_name = #{user_name} or U.name =#{name} or I.answered =0  
        
    </select>
    
    
    
    
    
</mapper>